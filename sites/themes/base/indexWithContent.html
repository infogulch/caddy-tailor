{{- $config :=index .Args 0 -}}
{{- $content :=index .Args 1 -}}
{{- include  (printf "/themes/%s/head.html" $config.theme) $config -}}

    {{- $folders := list  -}}
    {{- $files := list  -}}

   {{- $listFile := listFiles $config.dir -}}
   {{- range $filePath := $listFile -}}
       {{- $realFilePath := (printf "%s/%s" $config.dir $filePath) -}}
       {{- if hasSuffix ".md" $realFilePath -}}
            {{- if ne $filePath "index.md"}}
                {{- $files = append $files (trimSuffix ".md" $filePath) -}}
            {{- end -}}
       {{- end -}}
   {{- end -}}

   {{- markdown $content -}}

  <h1>Articles</h1>
  <ul>
      {{- range $file := $files -}}
      <li><a href="/{{if $config.urldir}}{{$config.urldir}}/{{end}}{{$file}}">{{$file}}</a></li>
      {{- end -}}
  </ul>

  {{- include  (printf "/themes/%s/foot.html" $config.theme) $config -}}
